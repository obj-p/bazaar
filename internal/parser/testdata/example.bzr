package example

import layout

enum RowAlignment {
    top, center, bottom
}

component Row {
    alignment RowAlignment = .center
    children [component]
}

component Button {
    label string
    onClick func()? = null
}

component Text {
    value string
}

modifier Padding {
    top double = 0
    leading double = 0
    bottom double = 0
    trailing double = 0

    constructor(all double) = Padding(all, all, all, all)
    constructor(vertical double, horizontal double) = Padding(vertical, horizontal, vertical, horizontal)
}

func Add(x int, y int) -> int

func Truncate(x double) -> int

func Print(message string)

func Dismiss(animated bool = false)

data Point {
    x double = 0.0
    y double = 0
}

data TextAndButtonRowModel {
    value string = "Hello, world!"
    label string = "Click, me!"
    message string? = null
}

template TextAndButtonRow(models [TextAndButtonRowModel]) {
    @State var count = 0

    for model in models {
        @Modifier(Padding(all = 12.0))
        Row {
            Text(model.value)
            Button(model.label) {
                count += 1
                if var message = model.message {
                    Print(message)
                }
            }
        }
    }
}

preview TextAndButtonRowPreview {
    TextAndButtonRow([TextAndButtonRowModel()])
}
