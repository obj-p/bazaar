package optionalchaining

func OptionalChaining() {
    var result = obj?.property
    var method = obj?.method()
    var nested = obj?.nested?.property

    var indexed = array?[0]
    var deepIndexed = array?[0]?.field

    var called = func?(param)
    var chainedCall = obj?.method()?.result

    if obj?.property {}
    var conditional = obj?.value > 0

    // Complex optional chaining from edge-cases.bzr
    var complexResult = obj?.method()?.property
    var complexIndexed = array?[0]?.field
    var complexCalled = func?(param)?.result

    // TODO: Complex optional chaining combinations - seem to have parsing issues
    // var complex = obj?.arr?[idx]?.call()
    // var mixedChain = data?.items?[0]?.name
    // var deepChain = root?.child?.grandchild?.value
    // TODO: Reconsider making 'data' a keyword - causes parsing issues with 'data?.items'

    // TODO: Null coalescing not implemented in token system
    // var arithmetic = (obj?.count ?? 0) + 1
}
